---
title: "選擇正確的 Azure 裝載選項"
description: "了解哪些 Azure 移轉路徑適合您的 ASP.NET Web 應用程式。"
keywords: "Azure .NET, ASP.NET, App Service, VM, 虛擬機器, Web 應用程式, 移轉, 移轉"
author: camsoper
manager: wpickett
ms.author: casoper
ms.date: 11/15/2017
ms.topic: article
ms.technology: azure
ms.devlang: dotnet
ms.service: multiple
ms.custom: devcenter
ms.openlocfilehash: 01c321e164901253286add632f2301260245245b
ms.sourcegitcommit: c360a22d5bff6eedd714b28b847d2f26b06665f4
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/15/2017
---
# <a name="choose-the-right-azure-hosting-option"></a><span data-ttu-id="eec9d-104">選擇正確的 Azure 裝載選項</span><span class="sxs-lookup"><span data-stu-id="eec9d-104">Choose the right Azure hosting option</span></span>

<span data-ttu-id="eec9d-105">本文件提供從內部部署將現有的 .NET Framework 應用程式移轉到 Azure 時，您所擁有 Azure 中多個選擇之間的眾多考量和比較。</span><span class="sxs-lookup"><span data-stu-id="eec9d-105">This document provides multiple considerations and comparisons between the multiple choices you have in Azure when migrating your existing .NET Framework applications from on-premises to Azure.</span></span>

<span data-ttu-id="eec9d-106">將現有 .NET 應用程式移轉至 Azure 時要考慮的基本領域如下︰</span><span class="sxs-lookup"><span data-stu-id="eec9d-106">The fundamental areas to consider when migrating existing .NET applications to Azure are:</span></span>

1.  <span data-ttu-id="eec9d-107">計算服務選項</span><span class="sxs-lookup"><span data-stu-id="eec9d-107">Compute choices</span></span>
2.  <span data-ttu-id="eec9d-108">資料庫選項</span><span class="sxs-lookup"><span data-stu-id="eec9d-108">Database choices</span></span>
3.  <span data-ttu-id="eec9d-109">網路和安全性考量</span><span class="sxs-lookup"><span data-stu-id="eec9d-109">Networking and security considerations</span></span>
4.  <span data-ttu-id="eec9d-110">驗證和授權考量</span><span class="sxs-lookup"><span data-stu-id="eec9d-110">Authentication and authorization considerations</span></span>

## <a name="compute-choices"></a><span data-ttu-id="eec9d-111">計算服務選項</span><span class="sxs-lookup"><span data-stu-id="eec9d-111">Compute choices</span></span>

<span data-ttu-id="eec9d-112">將現有的 .NET Framework 應用程式移轉至 Azure 時則會有多個選項。</span><span class="sxs-lookup"><span data-stu-id="eec9d-112">When migrating existing .NET Framework applications to Azure you have multiple choices.</span></span>  <span data-ttu-id="eec9d-113">不過，因為 .NET Framework 相依於 Windows，下列選項僅限於以 Windows 為基礎的計算服務。</span><span class="sxs-lookup"><span data-stu-id="eec9d-113">However, since .NET Framework depends on Windows, the following choices are limited to Windows-based compute services.</span></span>

<span data-ttu-id="eec9d-114">下表列出數個比較和建議，可協助您為現有的 .NET 應用程式選擇適合的計算移轉路徑。</span><span class="sxs-lookup"><span data-stu-id="eec9d-114">The following table shows several comparisons and recommendations to help you choose the right compute migration path for your existing .NET application.</span></span>

|                 | <span data-ttu-id="eec9d-115">Azure VM</span><span class="sxs-lookup"><span data-stu-id="eec9d-115">Azure VMs</span></span> | <span data-ttu-id="eec9d-116">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="eec9d-116">Azure App Service</span></span> | <span data-ttu-id="eec9d-117">Windows 容器</span><span class="sxs-lookup"><span data-stu-id="eec9d-117">Windows Containers</span></span> |
|-----------------|-----------|-------------------|--------------------|
|<span data-ttu-id="eec9d-118">使用時機</span><span class="sxs-lookup"><span data-stu-id="eec9d-118">When to use</span></span>      |<ul><li><span data-ttu-id="eec9d-119">應用程式在伺服器和本機 .msi 安裝上具有強烈相依性。</span><span class="sxs-lookup"><span data-stu-id="eec9d-119">Application has strong dependencies on the server and local .msi installations.</span></span></li><li><span data-ttu-id="eec9d-120">您希望應用程式移轉路徑越簡單越好</span><span class="sxs-lookup"><span data-stu-id="eec9d-120">You want to easiest application migration path</span></span></li></ul>|<span data-ttu-id="eec9d-121">應用程式與伺服器沒有相依性，是個乾淨的 ASP.NET Web 應用程式 (MVC、WebForm) 或存取資料庫伺服器的多層式架構應用程式 (Web API、WCf)。</span><span class="sxs-lookup"><span data-stu-id="eec9d-121">App has no dependencies on the server, it is just a clean ASP.NET web app (MVC, WebForm) or N-Tier app (Web API, WCf) accessing a database server.</span></span> |<ul><li><span data-ttu-id="eec9d-122">應用程式在原始伺服器上具有相依性，但這些相依性可以包含在 Docker Windows 映像中。</span><span class="sxs-lookup"><span data-stu-id="eec9d-122">Application has dependencies on the original server but those dependencies can be included in the Docker Windows image.</span></span></li><li><span data-ttu-id="eec9d-123">想要將應用程式現代化，使其可使用[雲端 DevOps](https://docs.microsoft.com/dotnet/standard/modernize-with-azure-and-containers/lift-and-shift-existing-apps-devops/reasons-to-lift-and-shift-existing-net-apps-to-cloud-devops-ready-applications)</span><span class="sxs-lookup"><span data-stu-id="eec9d-123">Want to modernize the app so it is [Cloud DevOps-Ready](https://docs.microsoft.com/dotnet/standard/modernize-with-azure-and-containers/lift-and-shift-existing-apps-devops/reasons-to-lift-and-shift-existing-net-apps-to-cloud-devops-ready-applications)</span></span></li></ul>|
|<span data-ttu-id="eec9d-124">優點與好處</span><span class="sxs-lookup"><span data-stu-id="eec9d-124">Pros & benefits</span></span>  |<ul><li><span data-ttu-id="eec9d-125">最簡單的移轉路徑</span><span class="sxs-lookup"><span data-stu-id="eec9d-125">Easiest migration path</span></span></li><li><span data-ttu-id="eec9d-126">熟悉的環境。</span><span class="sxs-lookup"><span data-stu-id="eec9d-126">Familiar environment.</span></span> <span data-ttu-id="eec9d-127">部署環境是與內部部署伺服器非常類似的 VM。</span><span class="sxs-lookup"><span data-stu-id="eec9d-127">Deployment environment is a VM so very similar to on-premises servers.</span></span></li></ul> |<span data-ttu-id="eec9d-128">進行中的 PaaS 維護作業是在 Azure 中管理和調整應用程式最簡單的方式。</span><span class="sxs-lookup"><span data-stu-id="eec9d-128">Ongoing PaaS maintenance, simplest way to manage and scale apps in Azure.</span></span> |<ul><li><span data-ttu-id="eec9d-129">已備妥供日後使用，具相依性的雲端 DevOps 就緒包含在應用程式的容器中。</span><span class="sxs-lookup"><span data-stu-id="eec9d-129">Prepared for the future, Cloud DevOps-Ready with dependencies included in the app’s containers.</span></span></li><li><span data-ttu-id="eec9d-130">幾乎不需要重新建構 .NET /C# 程式碼。</span><span class="sxs-lookup"><span data-stu-id="eec9d-130">Almost no need to re-factor .NET /C# code.</span></span></li></ul> |
|<span data-ttu-id="eec9d-131">缺點</span><span class="sxs-lookup"><span data-stu-id="eec9d-131">Cons</span></span>             |<span data-ttu-id="eec9d-132">此為 IaaS。</span><span class="sxs-lookup"><span data-stu-id="eec9d-132">It is IaaS.</span></span> <span data-ttu-id="eec9d-133">維護成本昂貴。</span><span class="sxs-lookup"><span data-stu-id="eec9d-133">Maintenance is costly.</span></span> <span data-ttu-id="eec9d-134">您需要管理 VM 基礎結構的網路、負載平衡器、擴充、IIS 管理等等。</span><span class="sxs-lookup"><span data-stu-id="eec9d-134">You have to manage VMs infrastructure about networking, load-balancer, scale-out, IIS management, etc.</span></span> |<ul><li><span data-ttu-id="eec9d-135">並未[支援](http://www.migratetoazure.net/ReadinessAssessment)所有的應用程式</span><span class="sxs-lookup"><span data-stu-id="eec9d-135">Not all apps are [supported](http://www.migratetoazure.net/ReadinessAssessment)</span></span></li><li><span data-ttu-id="eec9d-136">某些應用程式可能需要重構並稍微重新架構，才能支援 Azure App Service。</span><span class="sxs-lookup"><span data-stu-id="eec9d-136">Some apps might need to be refactored and even slightly re-architected, so they support Azure App Service.</span></span></li></ul> |<ul><li><span data-ttu-id="eec9d-137">Docker 的技能學習曲線</span><span class="sxs-lookup"><span data-stu-id="eec9d-137">Docker’s skills learning curve</span></span></li><li><span data-ttu-id="eec9d-138">某些程式碼和應用程式組態設定會變更</span><span class="sxs-lookup"><span data-stu-id="eec9d-138">Some code and app configuration settings changes</span></span></li></ul>|
|<span data-ttu-id="eec9d-139">需求</span><span class="sxs-lookup"><span data-stu-id="eec9d-139">Requirements</span></span> |<span data-ttu-id="eec9d-140">比起內部部署應用程式，具有相同需求的 Windows Server VM</span><span class="sxs-lookup"><span data-stu-id="eec9d-140">Windows Server VM with the same requirements than the app for on-premises</span></span> | <span data-ttu-id="eec9d-141">在 [Azure App Service 相容性分析](https://www.migratetoazure.net/Resources)中指定的 Azure App Service 需求。</span><span class="sxs-lookup"><span data-stu-id="eec9d-141">Azure App Service requirements specified at the [Compatibility analysis for Azure App Service](https://www.migratetoazure.net/Resources).</span></span> |<ul><li>[<span data-ttu-id="eec9d-142">Windows Server 2016 with Containers - Azure VM</span><span class="sxs-lookup"><span data-stu-id="eec9d-142">Windows Server 2016 with Containers - Azure VM</span></span>](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.WindowsServer?tab=Overview)<br /><span data-ttu-id="eec9d-143">或</span><span class="sxs-lookup"><span data-stu-id="eec9d-143">or</span></span></li><li><span data-ttu-id="eec9d-144">[Azure Container Service (AKS)](https://azure.microsoft.com/services/container-service/) (此為 Kubernetes 協調器)</span><span class="sxs-lookup"><span data-stu-id="eec9d-144">[Azure Container Service (AKS)](https://azure.microsoft.com/services/container-service/) (That is Kubernetes orchestrator)</span></span><br /><span data-ttu-id="eec9d-145">或</span><span class="sxs-lookup"><span data-stu-id="eec9d-145">or</span></span><li><span data-ttu-id="eec9d-146">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/) 協調器</span><span class="sxs-lookup"><span data-stu-id="eec9d-146">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/) orchestrator</span></span></li></ul> |
|<span data-ttu-id="eec9d-147">如何移轉</span><span class="sxs-lookup"><span data-stu-id="eec9d-147">How to migrate</span></span> |<span data-ttu-id="eec9d-148">請參閱[移轉至 Azure 虛擬機器](https://go.microsoft.com/fwlink/?linkid=862531)</span><span class="sxs-lookup"><span data-stu-id="eec9d-148">See [Migrate to Azure Virtual Machines](https://go.microsoft.com/fwlink/?linkid=862531)</span></span> | <span data-ttu-id="eec9d-149">請參閱[移轉 Azure App Service](https://go.microsoft.com/fwlink/?linkid=862532)</span><span class="sxs-lookup"><span data-stu-id="eec9d-149">See [Migrate Azure App Service](https://go.microsoft.com/fwlink/?linkid=862532)</span></span> | <span data-ttu-id="eec9d-150">請依照[將現有 .NET 應用程式與 Azure 和 Windows 容器現代化電子書](https://aka.ms/liftandshiftwithcontainersebook)中說明的考量、案例和逐步解說</span><span class="sxs-lookup"><span data-stu-id="eec9d-150">Follow considerations, scenarios and walkthroughs explained in the [Modernizing existing .NET apps with Azure and Windows Containers eBook](https://aka.ms/liftandshiftwithcontainersebook)</span></span> |

 <span data-ttu-id="eec9d-151">下列流程圖顯示了為您現有 .NET Framework 應用程式規劃移轉至 Azure 時的決策樹，選項 A 若可行則為第一個可嘗試執行的選項，但選項 B 為最簡單的執行路徑。</span><span class="sxs-lookup"><span data-stu-id="eec9d-151">The following flowchart diagram shows a decision tree when planning a migration to Azure for your existing .NET Framework applications, being option A the first option to try and perform if it is viable, but option B the easiest path to perform.</span></span>

![顯示裝載決策樹的流程圖](media/dotnet-howto-choose-migration/decision-tree.png)

## <a name="database-choices"></a><span data-ttu-id="eec9d-153">資料庫選項</span><span class="sxs-lookup"><span data-stu-id="eec9d-153">Database choices</span></span>

<span data-ttu-id="eec9d-154">將關聯式資料庫移轉到 Azure 時您有多個選項。</span><span class="sxs-lookup"><span data-stu-id="eec9d-154">When migrating relational databases to Azure you have multiple choices.</span></span> <span data-ttu-id="eec9d-155">請參閱[將 SQL Server 資料庫移轉至 Azure](https://go.microsoft.com/fwlink/?linkid=862533)，可協助您為現有的 .NET 應用程式選擇正確的資料庫移轉路徑。</span><span class="sxs-lookup"><span data-stu-id="eec9d-155">See [Migrate your SQL Server database to Azure](https://go.microsoft.com/fwlink/?linkid=862533) to help you choose the right database migration path for your existing .NET application.</span></span>

## <a name="networking-and-security-considerations"></a><span data-ttu-id="eec9d-156">網路和安全性考量</span><span class="sxs-lookup"><span data-stu-id="eec9d-156">Networking and security considerations</span></span>

<span data-ttu-id="eec9d-157">在將應用程式部署至如 Microsoft Azure 等公用雲端時，您可能想要[建立網路 DMZ](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/) 來隔離和保護特定網路，例如 [Azure 與內部部署間的 DMZ](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-hybrid) 或 [Azure 與網際網路間的 DMZ](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-dmz)。</span><span class="sxs-lookup"><span data-stu-id="eec9d-157">When deploying applications to a public cloud like Microsoft Azure, you might want to isolate and secure certain networks by [creating network DMZs](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/), such as a [DMZ between Azure and on-premises](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-hybrid) or a [DMZ between Azure and the Internet](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-dmz).</span></span> <span data-ttu-id="eec9d-158">DMZ 可以透過 [Azure 虛擬網路](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview)來實作。</span><span class="sxs-lookup"><span data-stu-id="eec9d-158">DMZs can be implemented with [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview).</span></span>
<span data-ttu-id="eec9d-159">Azure 虛擬網路可讓您：</span><span class="sxs-lookup"><span data-stu-id="eec9d-159">Azure Virtual networks enable you to:</span></span>

- <span data-ttu-id="eec9d-160">建置可控制的混合式基礎結構</span><span class="sxs-lookup"><span data-stu-id="eec9d-160">Build a hybrid infrastructure that you control</span></span>
- <span data-ttu-id="eec9d-161">使用自己的 IP 位址與 DNS 伺服器</span><span class="sxs-lookup"><span data-stu-id="eec9d-161">Bring your own IP addresses and DNS servers</span></span>
- <span data-ttu-id="eec9d-162">利用 IPsec VPN 或 ExpressRoute 保障連線的安全</span><span class="sxs-lookup"><span data-stu-id="eec9d-162">Secure your connections with an IPsec VPN or ExpressRoute</span></span>
- <span data-ttu-id="eec9d-163">對子網路間的流量進行細微的控制</span><span class="sxs-lookup"><span data-stu-id="eec9d-163">Get granular control over traffic between subnets</span></span>
- <span data-ttu-id="eec9d-164">使用虛擬應用設備建立精密的網路拓撲</span><span class="sxs-lookup"><span data-stu-id="eec9d-164">Create sophisticated network topologies using virtual appliances</span></span>
- <span data-ttu-id="eec9d-165">為應用程建立獨立且極為安全的應用程式環境</span><span class="sxs-lookup"><span data-stu-id="eec9d-165">Get an isolated and highly-secure environment for your applications</span></span>
 
<span data-ttu-id="eec9d-166">若要開始建置您自己的虛擬網路，請參閱 [Azure 虛擬網路文件](https://docs.microsoft.com/azure/virtual-network/)。</span><span class="sxs-lookup"><span data-stu-id="eec9d-166">To get started building your own virtual network, see the [Azure Virtual Network documentation](https://docs.microsoft.com/azure/virtual-network/).</span></span>

## <a name="authentication-and-authorization-considerations-when-migrating-to-azure"></a><span data-ttu-id="eec9d-167">移轉至 Azure 時的驗證和授權考量</span><span class="sxs-lookup"><span data-stu-id="eec9d-167">Authentication and authorization considerations when migrating to Azure</span></span>

<span data-ttu-id="eec9d-168">任何組織要移到雲端時的首要考量皆是安全性。</span><span class="sxs-lookup"><span data-stu-id="eec9d-168">A top concern of any organization moving to the cloud is security.</span></span> <span data-ttu-id="eec9d-169">大部分的公司投資了大量時間、金錢和工程來設計和開發安全性模型，重要的是，這些公司能夠充分利用現有投資，例如身分識別存放區和單一登入解決方案。</span><span class="sxs-lookup"><span data-stu-id="eec9d-169">Most companies have invested a substantial amount of time, money, and engineering into designing and developing a security model, and it’s important that they’re able to leverage existing investments such as identity stores and single sign-on solutions.</span></span>

<span data-ttu-id="eec9d-170">許多執行於內部部署的現有企業 B2E .NET 應用程式使用 Active Directory 進行驗證和身分識別管理。</span><span class="sxs-lookup"><span data-stu-id="eec9d-170">Many existing enterprise B2E .NET applications running on-premises use Active Directory for authentication and identity management.</span></span>  <span data-ttu-id="eec9d-171">Azure AD Connect 可讓您整合內部部署目錄與 Azure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="eec9d-171">Azure AD Connect enables you to integrate your on-premises directories with Azure Active Directory.</span></span>  <span data-ttu-id="eec9d-172">若要開始，請參閱[整合您的內部部署目錄與 Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect)。</span><span class="sxs-lookup"><span data-stu-id="eec9d-172">To get started, see [Integrate your on-premises directories with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span></span>

<span data-ttu-id="eec9d-173">請參閱[混合式身分識別解決方案的身分識別需求](https://docs.microsoft.com/azure/active-directory/active-directory-hybrid-identity-design-considerations-business-needs)以進一步進行 Azure Active Directory 的相關規劃。</span><span class="sxs-lookup"><span data-stu-id="eec9d-173">See [Identity requirements for your hybrid identity solution](https://docs.microsoft.com/azure/active-directory/active-directory-hybrid-identity-design-considerations-business-needs) for further planning related to Azure Active Directory.</span></span>

<span data-ttu-id="eec9d-174">其他驗證通訊協定的選擇還有 [OAuth](https://en.wikipedia.org/wiki/OAuth) 和 [OpenID](https://en.wikipedia.org/wiki/OpenID)，其在消費者導向應用程式中很常見。</span><span class="sxs-lookup"><span data-stu-id="eec9d-174">Other authentication protocol choices are [OAuth](https://en.wikipedia.org/wiki/OAuth) and [OpenID](https://en.wikipedia.org/wiki/OpenID), which are common in consumer-facing applications.</span></span>  <span data-ttu-id="eec9d-175">使用自發的身分識別資料庫 (例如由 IdentityServer4 使用 OAuth 包裝的 ASP.NET 身分識別 SQL 資料庫)，通常不需連線到內部部署資料庫或目錄。</span><span class="sxs-lookup"><span data-stu-id="eec9d-175">When using autonomous identity databases, such as an ASP.NET Identity SQL database wrapped by IdentityServer4 using OAuth, no connectivity to on-premises databases or directories is usually required.</span></span>

## <a name="next-steps"></a><span data-ttu-id="eec9d-176">後續步驟</span><span class="sxs-lookup"><span data-stu-id="eec9d-176">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="eec9d-177">將 ASP.NET Web 應用程式移轉至 Azure App Service</span><span class="sxs-lookup"><span data-stu-id="eec9d-177">Migrate an ASP.NET web application to Azure App Service</span></span>](dotnet-howto-migrate-app-service.md)