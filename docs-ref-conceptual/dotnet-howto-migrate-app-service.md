---
title: "將 ASP.NET Web 應用程式移轉至 Azure App Service"
description: "了解如何從內部部署將 ASP.NET Web 應用程式移轉至 Azure App Service。"
keywords: "Azure .NET, ASP.NET, App Service, Web 應用程式, 移轉, 移轉"
author: camsoper
manager: wpickett
ms.author: casoper
ms.date: 11/15/2017
ms.topic: article
ms.technology: azure
ms.devlang: dotnet
ms.service: app-service
ms.custom: devcenter
ms.openlocfilehash: 050782871c3fe4ccb0d15bf9933c3b11c88ce661
ms.sourcegitcommit: dbec35008347b581dd238b882354300e427bec70
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/02/2018
---
# <a name="migrate-an-aspnet-web-application-to-azure-app-service"></a><span data-ttu-id="74760-104">將 ASP.NET Web 應用程式移轉至 Azure App Service</span><span class="sxs-lookup"><span data-stu-id="74760-104">Migrate an ASP.NET web application to Azure App Service</span></span>

<span data-ttu-id="74760-105">[App Service](https://docs.microsoft.com/azure/app-service/app-service-web-overview#why-use-web-apps) 是完全受控的計算平台服務，非常適合用來裝載可擴充的網站和 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="74760-105">[App Service](https://docs.microsoft.com/azure/app-service/app-service-web-overview#why-use-web-apps) is a fully-managed compute platform service that is optimized for hosting scalable websites and web applications.</span></span> <span data-ttu-id="74760-106">本文件提供以下資訊：如何隨即將現有的應用程式轉移至 Azure App Service、可列入考慮的修改，以及移到雲端的其他資源。</span><span class="sxs-lookup"><span data-stu-id="74760-106">This document provides information on how to lift-and-shift an existing application to Azure App Service, modifications to consider, and additional resources for moving to the cloud.</span></span>

<span data-ttu-id="74760-107">準備好開始了嗎？</span><span class="sxs-lookup"><span data-stu-id="74760-107">Ready to get started?</span></span> <span data-ttu-id="74760-108">[將 ASP.NET + SQL 應用程式發佈至 Azure App Service](https://go.microsoft.com/fwlink/?linkid=863214)。</span><span class="sxs-lookup"><span data-stu-id="74760-108">[Publish your ASP.NET + SQL application to Azure App Service](https://go.microsoft.com/fwlink/?linkid=863214).</span></span>

# <a name="preparation"></a><span data-ttu-id="74760-109">準備工作</span><span class="sxs-lookup"><span data-stu-id="74760-109">Preparation</span></span>   
* [<span data-ttu-id="74760-110">如何判斷您的應用程式是否符合 App Service</span><span class="sxs-lookup"><span data-stu-id="74760-110">How to determine if your app qualifies for App Service</span></span>](https://azure.microsoft.com/downloads/migration-assistant/)
* [<span data-ttu-id="74760-111">將您的資料庫移至雲端</span><span class="sxs-lookup"><span data-stu-id="74760-111">Moving your database to the cloud</span></span>](https://go.microsoft.com/fwlink/?linkid=863217)

# <a name="considerations"></a><span data-ttu-id="74760-112">考量</span><span class="sxs-lookup"><span data-stu-id="74760-112">Considerations</span></span>
<span data-ttu-id="74760-113">在移轉應用程式之前，有幾個您必須考慮的因素。</span><span class="sxs-lookup"><span data-stu-id="74760-113">There are several factors you must consider before migrating your application.</span></span> <span data-ttu-id="74760-114">以下是您可能需要對應用程式進行的修改清單，以及進行修改的方式。</span><span class="sxs-lookup"><span data-stu-id="74760-114">Below is a list of potential modifications you might have to make to your application, and how to go about doing them.</span></span>

## <a name="sql-database-configuration"></a><span data-ttu-id="74760-115">SQL Database 設定</span><span class="sxs-lookup"><span data-stu-id="74760-115">SQL Database configuration</span></span>
<span data-ttu-id="74760-116">如果您的應用程式正在使用內部部署資料庫，則 Web 應用程式有數個選項。</span><span class="sxs-lookup"><span data-stu-id="74760-116">If your application is using an on-premises database, you have several options for your web app.</span></span> <span data-ttu-id="74760-117">[深入了解將 SQL 資料庫移轉至 Azure](https://go.microsoft.com/fwlink/?linkid=863217)。</span><span class="sxs-lookup"><span data-stu-id="74760-117">[Read more about migrating SQL databases to Azure](https://go.microsoft.com/fwlink/?linkid=863217).</span></span>

## <a name="iis"></a><span data-ttu-id="74760-118">IIS</span><span class="sxs-lookup"><span data-stu-id="74760-118">IIS</span></span>
<span data-ttu-id="74760-119">傳統上透過應用程式中 applicationHost.config 設定的所有項目現在皆可透過 Azure 入口網站設定。</span><span class="sxs-lookup"><span data-stu-id="74760-119">Everything traditionally configured via applicationHost.config in your application can now be configured through the Azure portal.</span></span> <span data-ttu-id="74760-120">這適用於 AppPool 位元、啟用/停用 websocket、受控管線版本、.NET Framework 版本 (2.0/4.0) 等。若要修改[應用程式設定](https://docs.microsoft.com/azure/app-service/web-sites-configure)，瀏覽至 [Azure 入口網站](https://portal.azure.com)，開啟 Web 應用程式刀鋒視窗，然後選取 [應用程式設定] 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="74760-120">This applies to AppPool bitness, enable/disable websockets, managed pipeline version, .NET Framework version (2.0/4.0), etc. To modify your [application settings](https://docs.microsoft.com/azure/app-service/web-sites-configure), navigate to the [Azure portal](https://portal.azure.com), open the blade for your web app, and then select the **Application Settings** tab.</span></span>

## <a name="authentication"></a><span data-ttu-id="74760-121">驗證</span><span class="sxs-lookup"><span data-stu-id="74760-121">Authentication</span></span>
<span data-ttu-id="74760-122">如果應用程式在任何時間點驗證使用者，則您必須修改這項功能，讓該功能在應用程式一部署到 Azure Web Apps 後即可運作。</span><span class="sxs-lookup"><span data-stu-id="74760-122">If your application authenticates users at any point, you will have to modify this functionality to work once the application deployed on Azure Web Apps.</span></span> <span data-ttu-id="74760-123">其中一種方法是使用 Azure AD Connect 整合內部部署目錄與 Azure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="74760-123">One possibility is to use Azure AD Connect to integrate your on-premises directories with Azure Active Directory.</span></span> <span data-ttu-id="74760-124">[深入了解如何整合您的內部部署目錄與 Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect)。</span><span class="sxs-lookup"><span data-stu-id="74760-124">[Learn more about how to integrate your on-premises directories with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span></span>

## <a name="virtual-network-modification"></a><span data-ttu-id="74760-125">虛擬網路修改</span><span class="sxs-lookup"><span data-stu-id="74760-125">Virtual Network Modification</span></span>
<span data-ttu-id="74760-126">如果您使用超過一個 Azure 服務，可以考慮使用虛擬網路在這些服務之間安全地進行通訊。</span><span class="sxs-lookup"><span data-stu-id="74760-126">If you use more than one Azure service you may consider using a virtual network to securely communicate between these services.</span></span> <span data-ttu-id="74760-127">您可以使用 VPN 或 ExpressRoute 設定從內部部署網路到 [Azure 虛擬網路](https://docs.microsoft.com/azure/app-service/web-sites-integrate-with-vnet)的連線。</span><span class="sxs-lookup"><span data-stu-id="74760-127">You can configure a connection from your on-premises network to an [Azure Virtual Network](https://docs.microsoft.com/azure/app-service/web-sites-integrate-with-vnet) using VPN or ExpressRoute.</span></span>

## <a name="monitoring-and-diagnostics"></a><span data-ttu-id="74760-128">監視和診斷</span><span class="sxs-lookup"><span data-stu-id="74760-128">Monitoring and Diagnostics</span></span>
<span data-ttu-id="74760-129">您目前的監控和診斷內部部署解決方案無法在雲端中運作。</span><span class="sxs-lookup"><span data-stu-id="74760-129">Your current on-premises solutions for monitoring and diagnostics are unlikely to work in the cloud.</span></span> <span data-ttu-id="74760-130">不過，Azure 提供記錄、監控和診斷工具，以便識別及偵錯 Web 應用程式的問題。</span><span class="sxs-lookup"><span data-stu-id="74760-130">However, Azure provides tools for logging, monitoring, and diagnostics so that you can identify and debug issues with web apps.</span></span> <span data-ttu-id="74760-131">您可以輕鬆地在設定中啟用 Web 應用程式診斷，且可以檢視 Azure Application Insights 中所記的記錄。</span><span class="sxs-lookup"><span data-stu-id="74760-131">You can easily enable diagnostics for your web app in its configuration, and you can view the logs recorded in Azure Application Insights.</span></span> <span data-ttu-id="74760-132">[深入了解啟用 Web 應用程式的診斷記錄](https://docs.microsoft.com/azure/app-service/web-sites-enable-diagnostic-log)。</span><span class="sxs-lookup"><span data-stu-id="74760-132">[Learn more about enabling diagnostics logging for web apps](https://docs.microsoft.com/azure/app-service/web-sites-enable-diagnostic-log).</span></span>

## <a name="connection-strings-and-application-settings"></a><span data-ttu-id="74760-133">連接字串和應用程式設定</span><span class="sxs-lookup"><span data-stu-id="74760-133">Connection Strings and application settings</span></span>
<span data-ttu-id="74760-134">讓資訊保持安全的其中一項作法是使用 [Azure KeyVault](https://docs.microsoft.com/azure/key-vault/)，這項服務可以安全地儲存應用程式中所使用的敏感資訊。</span><span class="sxs-lookup"><span data-stu-id="74760-134">One option for keeping information safe is to use [Azure KeyVault](https://docs.microsoft.com/azure/key-vault/), a service that securely stores sensitive information used in your application.</span></span> <span data-ttu-id="74760-135">或者，您可以將此資料儲存為 App Service 設定。</span><span class="sxs-lookup"><span data-stu-id="74760-135">Alternatively, you can store this data as an App Service setting.</span></span>

## <a name="dns"></a><span data-ttu-id="74760-136">DNS</span><span class="sxs-lookup"><span data-stu-id="74760-136">DNS</span></span>
<span data-ttu-id="74760-137">您可能需要根據應用程式需求更新 DNS 設定。</span><span class="sxs-lookup"><span data-stu-id="74760-137">You may need to update DNS configurations based on the requirements of your application.</span></span> <span data-ttu-id="74760-138">這些 DNS 設定可在 App Service 的[自訂網域設定](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-domain)中進行設定。</span><span class="sxs-lookup"><span data-stu-id="74760-138">These DNS settings can be configured in the App Service [custom domain settings](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-domain).</span></span> <span data-ttu-id="74760-139">要考量的另一個因素是[繫結現有的自訂 SSL 憑證](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-ssl)。</span><span class="sxs-lookup"><span data-stu-id="74760-139">Another factor to consider is [binding an existing custom SSL certificate](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-ssl).</span></span>

## <a name="file-system-and-storage"></a><span data-ttu-id="74760-140">檔案系統和儲存體</span><span class="sxs-lookup"><span data-stu-id="74760-140">File system and Storage</span></span>
<span data-ttu-id="74760-141">如果您的應用程式會存留資料，您必須進行更新以使用 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="74760-141">If your application persists data, you will need to update it to use Azure Storage instead.</span></span> <span data-ttu-id="74760-142">Azure 儲存體是提供檔案共用的服務，可透過 SMB 通訊協定、blob 儲存體、簡單佇列與非關聯式資料表進行共用。</span><span class="sxs-lookup"><span data-stu-id="74760-142">Azure Storage is a service that provides file shares for sharing via SMB protocol, blob storage, simple queues, and non-relational tables.</span></span> <span data-ttu-id="74760-143">[深入了解 Azure 儲存體檔案共用](https://docs.microsoft.com/azure/storage/files/storage-files-introduction)。</span><span class="sxs-lookup"><span data-stu-id="74760-143">[Learn more about Azure Storage file shares](https://docs.microsoft.com/azure/storage/files/storage-files-introduction).</span></span>

## <a name="next-steps"></a><span data-ttu-id="74760-144">後續步驟</span><span class="sxs-lookup"><span data-stu-id="74760-144">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="74760-145">將 ASP.NET Web 應用程式移轉至 Azure App Service</span><span class="sxs-lookup"><span data-stu-id="74760-145">Migrate an ASP.NET Web application to Azure App Service</span></span>](https://aka.ms/azure-webapp-migrate)
